{"ast":null,"code":"import _toConsumableArray from\"C:/Users/lukes/Desktop/FrontendMasters/DogEar/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/lukes/Desktop/FrontendMasters/DogEar/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/lukes/Desktop/FrontendMasters/DogEar/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\lukes\\\\Desktop\\\\FrontendMasters\\\\DogEar\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from'react';import*as injection from'./codeinjection';import'./App.css';import{Route,Routes,useNavigate}from'react-router-dom';import HomeScreen from'./screens/HomeScreen';import LoginScreen from'./screens/LoginScreen';import Modal from'./components/Modal';import data from'./data';//import jwt from 'jsonwebtoken';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),displayModal=_useState2[0],setDisplayModal=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),currentBookmarks=_useState4[0],setCurrentBookmarks=_useState4[1];var navigate=useNavigate();function AddNewBookmark(_x){return _AddNewBookmark.apply(this,arguments);}function _AddNewBookmark(){_AddNewBookmark=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(newBookmark){var temp,req,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(newBookmark){_context.next=2;break;}return _context.abrupt(\"return\");case 2:temp=_toConsumableArray(currentBookmarks);temp.push(newBookmark);_context.next=6;return fetch('https://dogearapp.herokuapp.com/api/bookmarks',{method:'POST',headers:{'Content-Type':'application/json','x-access-token':sessionStorage.getItem('token')},body:JSON.stringify(temp)});case 6:req=_context.sent;_context.next=9;return req.json();case 9:data=_context.sent;if(data.status==='ok'){//some Hook to set a new Bookmark\nsetCurrentBookmarks(data.bookmarks);}else{alert(data.error);}console.log(data);case 12:case\"end\":return _context.stop();}}},_callee);}));return _AddNewBookmark.apply(this,arguments);}function populateBookmarks(){return _populateBookmarks.apply(this,arguments);}function _populateBookmarks(){_populateBookmarks=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var req,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"getting bookmarks\");_context2.next=3;return fetch('https://dogearapp.herokuapp.com/api/bookmarks',{method:'GET',headers:{'x-access-token':sessionStorage.getItem('token')}});case 3:req=_context2.sent;_context2.next=6;return req.json();case 6:data=_context2.sent;if(data.status==='ok'){//we were able to populate bookmarks\nsetCurrentBookmarks(data.bookmarks);}else{alert(data.error);}case 8:case\"end\":return _context2.stop();}}},_callee2);}));return _populateBookmarks.apply(this,arguments);}useEffect(function(){var token=sessionStorage.getItem('token');if(!token)navigate('/Login-Signup');else{try{populateBookmarks();}catch(err){console.log(err);}}},[]);return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(Modal,{displayModal:displayModal,onExit:function onExit(){return setDisplayModal(false);},onSubmit:AddNewBookmark}),/*#__PURE__*/_jsxs(\"header\",{className:\"topnavmenu\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"top-tab left\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/file.png\",alt:\"My Pages\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"top-tab center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"add-button\",onClick:function onClick(){return setDisplayModal(true);},children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/plus.png\",alt:\"Add New Dogear\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"top-tab right\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/Login-Signup/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/log-in.png\",alt:\"Log In\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/sign-up.png\",alt:\"Sign Up\"})})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"leftnavmenu\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-icon\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/distorted2.png\",alt:\"icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"page-icon\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/distorted2.png\",alt:\"icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"page-icon\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/distorted2.png\",alt:\"icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"page-icon\",children:/*#__PURE__*/_jsx(\"button\",{onClick:injection.CoolThingsILearned,children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/more.png\",alt:\"add page\"})})})]}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/Login-Signup\",element:/*#__PURE__*/_jsx(LoginScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomeScreen,{bookmarks:currentBookmarks}),exact:true})]})]});}export default App;","map":{"version":3,"sources":["C:/Users/lukes/Desktop/FrontendMasters/DogEar/frontend/src/App.js"],"names":["React","useEffect","useState","injection","Route","Routes","useNavigate","HomeScreen","LoginScreen","Modal","data","App","displayModal","setDisplayModal","currentBookmarks","setCurrentBookmarks","navigate","AddNewBookmark","newBookmark","temp","push","fetch","method","headers","sessionStorage","getItem","body","JSON","stringify","req","json","status","bookmarks","alert","error","console","log","populateBookmarks","token","err","CoolThingsILearned"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport * as injection from './codeinjection';\r\nimport './App.css';\r\nimport { Route, Routes, useNavigate } from 'react-router-dom';\r\nimport HomeScreen from './screens/HomeScreen';\r\nimport LoginScreen from './screens/LoginScreen';\r\nimport Modal from './components/Modal';\r\nimport data from './data';\r\n//import jwt from 'jsonwebtoken';\r\n\r\nfunction App() {\r\n  const [displayModal, setDisplayModal] = useState(false);\r\n  const [currentBookmarks, setCurrentBookmarks] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  async function AddNewBookmark(newBookmark) {\r\n    if(!newBookmark) return;\r\n\r\n    const temp = [...currentBookmarks];\r\n    temp.push(newBookmark);\r\n\r\n    const req = await fetch('https://dogearapp.herokuapp.com/api/bookmarks', {\r\n      method: 'POST',\r\n      headers:{\r\n        'Content-Type' : 'application/json',\r\n        'x-access-token': sessionStorage.getItem('token'),\r\n      },\r\n      body: JSON.stringify(temp),\r\n    });\r\n\r\n\r\n    const data = await req.json();\r\n    if(data.status === 'ok') {\r\n      //some Hook to set a new Bookmark\r\n      setCurrentBookmarks(data.bookmarks);\r\n    } else {\r\n      alert(data.error);\r\n    }\r\n    console.log(data);\r\n  }\r\n\r\n  async function populateBookmarks() {\r\n    console.log(\"getting bookmarks\");\r\n    const req = await fetch('https://dogearapp.herokuapp.com/api/bookmarks', {\r\n      method: 'GET',\r\n      headers:{\r\n        'x-access-token': sessionStorage.getItem('token'),\r\n      },\r\n    });\r\n\r\n    const data = await req.json();\r\n    if(data.status === 'ok') {\r\n      //we were able to populate bookmarks\r\n      setCurrentBookmarks(data.bookmarks);\r\n    } else {\r\n      alert(data.error)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const token = sessionStorage.getItem('token');\r\n    if(!token) navigate('/Login-Signup');\r\n    else{\r\n      try{\r\n        populateBookmarks();\r\n      } catch(err)\r\n      {\r\n        console.log(err)\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n        <main>\r\n          <Modal displayModal={displayModal} onExit={() =>setDisplayModal(false)} onSubmit={AddNewBookmark}></Modal>\r\n          <header className=\"topnavmenu\">\r\n            <div className='top-tab left'>\r\n              <a href=\"/\"><img src=\"/images/file.png\" alt=\"My Pages\"/></a>\r\n            </div>\r\n            <div className='top-tab center'>\r\n              <button className='add-button' onClick={() => setDisplayModal(true)}><img src='/images/plus.png' alt='Add New Dogear'/></button>\r\n            </div>\r\n            <div className='top-tab right'>\r\n              <a href=\"/Login-Signup/\"><img src=\"/images/log-in.png\" alt=\"Log In\"/></a>\r\n              <a href=\"/\"><img src=\"/images/sign-up.png\" alt=\"Sign Up\"/></a>\r\n            </div>\r\n          </header>\r\n          <section className=\"leftnavmenu\">\r\n            <div className=\"page-icon\">\r\n              <img src=\"/images/distorted2.png\" alt=\"icon\"/>\r\n            </div>\r\n            <div className=\"page-icon\">\r\n              <img src=\"/images/distorted2.png\" alt=\"icon\"/>\r\n            </div>\r\n            <div className=\"page-icon\">\r\n              <img src=\"/images/distorted2.png\" alt=\"icon\"/>\r\n            </div>\r\n            <div className=\"page-icon\">\r\n              <button onClick={injection.CoolThingsILearned}>\r\n                <img src=\"/images/more.png\" alt=\"add page\"/>\r\n              </button>\r\n            </div>\r\n          </section>\r\n          <Routes>\r\n            <Route path='/Login-Signup' element={<LoginScreen/>}/>\r\n            <Route path='/' element={<HomeScreen bookmarks={currentBookmarks}/>} exact/>\r\n          </Routes>\r\n        </main>\r\n      \r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}