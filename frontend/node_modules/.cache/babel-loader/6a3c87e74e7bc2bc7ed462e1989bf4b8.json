{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/lukes/Desktop/FrontendMasters/DogEar/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/lukes/Desktop/FrontendMasters/DogEar/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\lukes\\\\Desktop\\\\FrontendMasters\\\\DogEar\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginScreen(){var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];function registerUser(_x){return _registerUser.apply(this,arguments);}function _registerUser(){_registerUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return fetch('https://dogearapp.herokuapp.com/api/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;if(data.status==='ok'){alert('Registration successful');navigate('/Login-Signup');}else{alert('Registration FAILED');}case 8:case\"end\":return _context.stop();}}},_callee);}));return _registerUser.apply(this,arguments);}function loginUser(_x2){return _loginUser.apply(this,arguments);}function _loginUser(){_loginUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.next=3;return fetch('https://dogearapp.herokuapp.com/api/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})});case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:data=_context2.sent;if(data.user){//document.cookie(`token: ${data.user}`);\nsessionStorage.setItem('token',data.user);//localStorage.setItem('token', data.user);\nalert('Login successful');navigate('/');}else{alert('Incorrect username or password');}console.log(data);case 9:case\"end\":return _context2.stop();}}},_callee2);}));return _loginUser.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"login-modal\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"login-form\",onSubmit:loginUser,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{value:email,onChange:function onChange(e){return setEmail(e.target.value);},type:\"email\",id:\"email\",placeholder:\"Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{value:password,onChange:function onChange(e){return setPassword(e.target.value);},type:\"password\",id:\"password\",placeholder:\"password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",form:\"login-form\",children:\"LOG IN\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"center\",children:\"OR\"}),/*#__PURE__*/_jsx(\"button\",{onClick:registerUser,children:\"SIGN UP\"})]})});}export default LoginScreen;","map":{"version":3,"sources":["C:/Users/lukes/Desktop/FrontendMasters/DogEar/frontend/src/screens/LoginScreen.js"],"names":["React","useState","useNavigate","LoginScreen","navigate","email","setEmail","password","setPassword","registerUser","event","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","data","status","alert","loginUser","user","sessionStorage","setItem","console","log","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport {useNavigate} from 'react-router-dom';\r\n\r\nfunction LoginScreen() {\r\n  const navigate = useNavigate()\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    async function registerUser(event) {\r\n      event.preventDefault();\r\n      const response = await fetch('https://dogearapp.herokuapp.com/api/register', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n            email,\r\n            password,\r\n          }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if(data.status === 'ok') {\r\n        alert('Registration successful');\r\n        navigate('/Login-Signup')\r\n      }\r\n      else{\r\n        alert('Registration FAILED');\r\n      }\r\n    }\r\n\r\n    async function loginUser(event) {\r\n      event.preventDefault();\r\n      const response = await fetch('https://dogearapp.herokuapp.com/api/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n            email,\r\n            password,\r\n          }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if(data.user) {\r\n        //document.cookie(`token: ${data.user}`);\r\n        sessionStorage.setItem('token', data.user);\r\n        //localStorage.setItem('token', data.user);\r\n        alert('Login successful');\r\n        navigate('/');\r\n      } else {\r\n        alert('Incorrect username or password');\r\n      }\r\n\r\n      console.log(data);\r\n    }\r\n\r\n    return ( \r\n      <div className=\"login-modal\">\r\n        <form id='login-form' onSubmit={loginUser}>\r\n        <div className='input-field'>\r\n          <h3>Username:</h3>\r\n          <input \r\n          value={email} onChange={(e) => setEmail(e.target.value)} \r\n          type=\"email\" \r\n          id='email' \r\n          placeholder='Email'>\r\n          </input>\r\n        </div>\r\n        <div className='input-field'>\r\n          <h3>Password:</h3>\r\n          <input \r\n          value={password} onChange={(e) => setPassword(e.target.value)} \r\n          type=\"password\"\r\n          id='password' \r\n          placeholder='password'>\r\n          </input>\r\n        </div>\r\n        <button type=\"submit\" form='login-form'>LOG IN</button>\r\n        <h3 className='center'>OR</h3>  \r\n        <button onClick={registerUser}>SIGN UP</button>\r\n        </form>\r\n      </div> );\r\n}\r\n\r\nexport default LoginScreen;"]},"metadata":{},"sourceType":"module"}