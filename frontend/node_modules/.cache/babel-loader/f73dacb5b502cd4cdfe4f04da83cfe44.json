{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lukes\\\\Desktop\\\\FrontendMasters\\\\DogEar\\\\frontend\\\\src\\\\screens\\\\HomeScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Card from '../components/Card';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction HomeScreen(props) {\n  _s();\n\n  const {\n    bookmarks,\n    setBookmarks\n  } = props;\n  const navigate = useNavigate();\n  const placeholderBookmark = {\n    _id: 1,\n    title: \"Your first Dogear!\",\n    image: '/images/distorted2.png',\n    description: 'Click the plus button above to add your own dogeared pages.',\n    tags: '#my #first #dogear',\n    url: 'localhost:3000'\n  };\n\n  async function populateBookmarks() {\n    console.log(\"getting bookmarks\");\n    const req = await fetch('https://dogearapp.herokuapp.com/api/bookmarks', {\n      method: 'GET',\n      headers: {\n        'x-access-token': sessionStorage.getItem('token')\n      }\n    });\n    const data = await req.json();\n\n    if (data.status === 'ok') {\n      //we were able to populate bookmarks\n      setBookmarks(data.bookmarks);\n    } else {\n      alert(data.error);\n    }\n  }\n\n  useEffect(() => {\n    const token = sessionStorage.getItem('token');\n    if (!token) navigate('/Login-Signup');else {\n      try {\n        populateBookmarks();\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  }, [bookmarks]);\n\n  if (bookmarks.length > 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cards\",\n      children: bookmarks.map(bookmark => /*#__PURE__*/_jsxDEV(Card, {\n        bookmark: bookmark\n      }, bookmark._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      bookmark: placeholderBookmark\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 12\n    }, this);\n  }\n}\n\n_s(HomeScreen, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n\n_c = HomeScreen;\nexport default HomeScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomeScreen\");","map":{"version":3,"sources":["C:/Users/lukes/Desktop/FrontendMasters/DogEar/frontend/src/screens/HomeScreen.js"],"names":["React","useEffect","useState","Card","useNavigate","HomeScreen","props","bookmarks","setBookmarks","navigate","placeholderBookmark","_id","title","image","description","tags","url","populateBookmarks","console","log","req","fetch","method","headers","sessionStorage","getItem","data","json","status","alert","error","token","err","length","map","bookmark"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,SAAQC,WAAR,QAA0B,kBAA1B;;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AAAA;;AACzB,QAAM;AAACC,IAAAA,SAAD;AAAYC,IAAAA;AAAZ,MAA4BF,KAAlC;AACA,QAAMG,QAAQ,GAAGL,WAAW,EAA5B;AACA,QAAMM,mBAAmB,GAAG;AAC1BC,IAAAA,GAAG,EAAE,CADqB;AAE1BC,IAAAA,KAAK,EAAE,oBAFmB;AAG1BC,IAAAA,KAAK,EAAE,wBAHmB;AAI1BC,IAAAA,WAAW,EAAE,6DAJa;AAK1BC,IAAAA,IAAI,EAAE,oBALoB;AAM1BC,IAAAA,GAAG,EAAE;AANqB,GAA5B;;AASA,iBAAeC,iBAAf,GAAmC;AACjCC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,UAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,+CAAD,EAAkD;AACvEC,MAAAA,MAAM,EAAE,KAD+D;AAEvEC,MAAAA,OAAO,EAAC;AACN,0BAAkBC,cAAc,CAACC,OAAf,CAAuB,OAAvB;AADZ;AAF+D,KAAlD,CAAvB;AAOA,UAAMC,IAAI,GAAG,MAAMN,GAAG,CAACO,IAAJ,EAAnB;;AACA,QAAGD,IAAI,CAACE,MAAL,KAAgB,IAAnB,EAAyB;AACvB;AACApB,MAAAA,YAAY,CAACkB,IAAI,CAACnB,SAAN,CAAZ;AACD,KAHD,MAGO;AACLsB,MAAAA,KAAK,CAACH,IAAI,CAACI,KAAN,CAAL;AACD;AACF;;AAED7B,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM8B,KAAK,GAAGP,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAd;AACA,QAAG,CAACM,KAAJ,EAAWtB,QAAQ,CAAC,eAAD,CAAR,CAAX,KACI;AACF,UAAG;AACDQ,QAAAA,iBAAiB;AAClB,OAFD,CAEE,OAAMe,GAAN,EACF;AACEd,QAAAA,OAAO,CAACC,GAAR,CAAYa,GAAZ;AACD;AACF;AACF,GAXQ,EAWN,CAACzB,SAAD,CAXM,CAAT;;AAaA,MAAGA,SAAS,CAAC0B,MAAV,GAAmB,CAAtB,EACA;AACE,wBACA;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,gBACG1B,SAAS,CAAC2B,GAAV,CAAeC,QAAD,iBACf,QAAC,IAAD;AAA0B,QAAA,QAAQ,EAAIA;AAAtC,SAAYA,QAAQ,CAACxB,GAArB;AAAA;AAAA;AAAA;AAAA,cADC;AADH;AAAA;AAAA;AAAA;AAAA,YADA;AAMD,GARD,MAQK;AACH,wBAAO,QAAC,IAAD;AAAM,MAAA,QAAQ,EAAID;AAAlB;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;AACF;;GAtDQL,U;UAEUD,W;;;KAFVC,U;AAwDT,eAAeA,UAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Card from '../components/Card';\r\nimport {useNavigate} from 'react-router-dom';\r\n\r\nfunction HomeScreen(props) {\r\n  const {bookmarks, setBookmarks} = props;\r\n  const navigate = useNavigate();\r\n  const placeholderBookmark = {\r\n    _id: 1,\r\n    title: \"Your first Dogear!\",\r\n    image: '/images/distorted2.png',\r\n    description: 'Click the plus button above to add your own dogeared pages.',\r\n    tags: '#my #first #dogear',\r\n    url: 'localhost:3000'\r\n  };\r\n\r\n  async function populateBookmarks() {\r\n    console.log(\"getting bookmarks\");\r\n    const req = await fetch('https://dogearapp.herokuapp.com/api/bookmarks', {\r\n      method: 'GET',\r\n      headers:{\r\n        'x-access-token': sessionStorage.getItem('token'),\r\n      },\r\n    });\r\n\r\n    const data = await req.json();\r\n    if(data.status === 'ok') {\r\n      //we were able to populate bookmarks\r\n      setBookmarks(data.bookmarks);\r\n    } else {\r\n      alert(data.error)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const token = sessionStorage.getItem('token');\r\n    if(!token) navigate('/Login-Signup');\r\n    else{\r\n      try{\r\n        populateBookmarks();\r\n      } catch(err)\r\n      {\r\n        console.log(err)\r\n      }\r\n    }\r\n  }, [bookmarks]);\r\n  \r\n  if(bookmarks.length > 0)\r\n  {\r\n    return ( \r\n    <div className=\"cards\">\r\n      {bookmarks.map((bookmark) => (\r\n      <Card key= {bookmark._id} bookmark = {bookmark}></Card>\r\n      ))}\r\n    </div> );\r\n  }else{\r\n    return(<Card bookmark = {placeholderBookmark}></Card>);\r\n  }\r\n}\r\n\r\nexport default HomeScreen;\r\n"]},"metadata":{},"sourceType":"module"}